<%= f.error_notification %>

<div class="form-inputs">
  <%= f.input :name, autofocus: true %>
  <%= f.input :email %>
  <%= f.label :role %>
  <%= f.collection_select :role, User::ROLES, :to_s, :humanize %>
  <%= f.input :is_admin, label: "administrator" %>
  <%= f.input :is_locked, label: "locked" %>
  <%= f.association :region %>
  <%= f.association :groups, collection: Group.where(region: (f.object.region || current_user.region)), label: "Groups (Ctrl-select)" %>
  <%= f.association :routes, label: "Routes (Ctrl-select)" %>

  <%= f.label :administrative_area_tokens, "Managed areas" %>
  <%= f.text_field :administrative_area_tokens,
      "data-pre" => @user.administrative_areas.collect{ |a| {id: a.id, name: a.short_name }}.to_json
  %>

  <%= f.association :labels, label: "Label for notification (Ctrl-select)" %>
  <%= f.input :receive_email_notifications %>


  <%= f.input :password, autocomplete: "off", required: false %>
  <%#= f.input :password_confirmation, required: false %>

  <%= f.input :creator_id, as: :hidden, input_html: { value: current_user.id } %>
</div>

